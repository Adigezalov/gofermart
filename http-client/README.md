# HTTP Client Tests

–ö–æ–ª–ª–µ–∫—Ü–∏—è HTTP-–∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ "–ì–æ—Ñ–µ—Ä–º–∞—Ä—Ç".

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

### üìÅ auth/
–¢–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- `register.http` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)
- `login.http` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)
- `middleware-test.http` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `complete-flow.http` - –ë–∞–∑–æ–≤—ã–π —Ü–∏–∫–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `advanced-flow.http` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ü–∏–∫–ª —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤

### üìÅ health/
–¢–µ—Å—Ç—ã health check —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
- `health-check.http` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –∏ –ë–î

### üìÅ orders/
–¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏:
- `submit.http` - –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (–≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- `get-list.http` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `conflict.http` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `sorting-test.http` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∑–∞–∫–∞–∑–æ–≤

### üìÅ balance/
–¢–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤:
- `get-balance.http` - –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `withdraw-points.http` - –°–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ (–≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- `get-withdrawals.http` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–ø–∏—Å–∞–Ω–∏–π
- `full-flow.http` - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –∑–∞–∫–∞–∑ ‚Üí –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ ‚Üí —Å–ø–∏—Å–∞–Ω–∏–µ
- `accrual-integration.http` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π
- `error-scenarios.http` - –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫ (401, 402, 422, 400, 500)



### üìÅ utils/
–£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- `luhn-test.http` - –ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–Ω—ã—Ö/–Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –õ—É–Ω–∞
- `logging-test.http` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ logging middleware

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   go run ./cmd/gophermart
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –Ω—É–∂–Ω—ã–π .http —Ñ–∞–π–ª** –≤ –≤–∞—à–µ–π IDE (VS Code, IntelliJ IDEA, etc.)

3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã** –ø–æ –ø–æ—Ä—è–¥–∫—É, –∑–∞–º–µ–Ω—è—è —Ç–æ–∫–µ–Ω—ã –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–¢–æ–∫–µ–Ω—ã –∂–∏–≤—É—Ç 1 –º–∏–Ω—É—Ç—É** - –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∏—Ö —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞–ª–∏–¥–Ω—ã–µ –Ω–æ–º–µ—Ä–∞** –∏–∑ `utils/luhn-test.http` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- **–§–∞–π–ª—ã —Å advanced-flow** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–æ–∫–µ–Ω—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- **–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
**`complete-loyalty-system.http`** - üéØ **–ü–û–õ–ù–´–ô –¶–ò–ö–õ –°–ò–°–¢–ï–ú–´ –õ–û–Ø–õ–¨–ù–û–°–¢–ò**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ—à–∏–±–æ–∫

### –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:
1. `auth/advanced-flow.http` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
2. `orders/submit.http` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤
3. `balance/full-flow.http` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –±–∞–ª–∞–Ω—Å–æ–º –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è–º–∏
4. `health/health-check.http` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∞–ª–ª–æ–≤:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω):
   ```bash
   ./cmd/accrual/accrual_darwin_amd64 # –¥–ª—è macOS
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `balance/full-flow.http`** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–∞
   - –û–∂–∏–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤
   - –°–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π

3. **–û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã**:
   - `balance/get-balance.http` - —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
   - `balance/withdraw-points.http` - —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–∞–Ω–∏–µ (–≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫)
   - `balance/get-withdrawals.http` - —Ç–æ–ª—å–∫–æ –∏—Å—Ç–æ—Ä–∏—è —Å–ø–∏—Å–∞–Ω–∏–π